import{b as f,E as S,d as _}from"./navigation-helpers-906b4f42.js";import{A}from"./AuthorForm-4eef59da.js";import{u as E,a as F}from"./book-store-b8b15b23.js";import{d as V,E as w,c as n,y as g,a as k,n as v,q as B,u as c,b as C,o as d,f as b,g as x,s as y,h as N,i as I}from"./index-6733d467.js";import{F as T}from"./flash-types-c3292a81.js";import"./lodash-33569338.js";const q=C("h1",null,"Edit Author",-1),G=V({__name:"EditAuthorView",props:{authorId:null},setup(i){const l=i,t=N(),a=I(),m=E(),s=F(),h=w(),e=n(()=>s.getAuthor(l.authorId)),r=n(()=>m.fetchStatuses);g([e,r],()=>{!e.value&&r.value.active&&_(t,a)},{immediate:!0});const p=async u=>{await s.updateAuthor(u),h.addFlash({status:T.SUCCESS,message:"Author edited"});const o=a.query.redirect;if(!o){await t.push({name:"authors"});return}await f(t,o)};return(u,o)=>(d(),k("div",null,[q,v(A,{modelValue:c(e),"onUpdate:modelValue":p},{default:B(()=>[(d(),b(x(c(S)))),y(" Edit ")]),_:1},8,["modelValue"])]))}});export{G as default};

import{b as f,E as S,d as _}from"./navigation-helpers-1ee623e9.js";import{A}from"./AuthorForm-967f3be4.js";import{u as E,a as F}from"./book-store-70aea76a.js";import{d as V,E as w,c as n,y as g,a as k,n as v,q as B,u as c,b as C,o as d,f as b,g as x,s as y,h as N,i as I}from"./index-85516e1b.js";import{F as T}from"./flash-types-b3fc580b.js";import"./lodash-c76a3c9d.js";const q=C("h1",null,"Edit Author",-1),G=V({__name:"EditAuthorView",props:{authorId:null},setup(i){const l=i,t=N(),a=I(),m=E(),s=F(),h=w(),e=n(()=>s.getAuthor(l.authorId)),r=n(()=>m.fetchStatuses);g([e,r],()=>{!e.value&&r.value.active&&_(t,a)},{immediate:!0});const p=async u=>{await s.updateAuthor(u),h.addFlash({status:T.SUCCESS,message:"Author edited"});const o=a.query.redirect;if(!o){await t.push({name:"authors"});return}await f(t,o)};return(u,o)=>(d(),k("div",null,[q,v(A,{modelValue:c(e),"onUpdate:modelValue":p},{default:B(()=>[(d(),b(x(c(S)))),y(" Edit ")]),_:1},8,["modelValue"])]))}});export{G as default};
